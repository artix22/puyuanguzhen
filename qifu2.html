<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>祈福2</title>
	<style type="text/css">
		/* 重置一些基本的样式 */
		

		html,body{
					
					width:100%;
					margin:0px;
					padding: 0px;
				}
					
		body{
				display:flex;
				flex-direction:column;
			}
				
		.container{
					min-width:640px;
					position: relative;
					height:100vh;
					margin:0 auto;
					text-align:center;
					overflow:hidden;
				}
		#bg{
					position:relative;
					margin:auto;
					width:fit-content;
					overflow: hidden;
				}
		
		#back{
			    position: absolute;
			    height: 8%;
			    right: 82.9%;
			    top: 2.5%;
			    z-index: 10;
			    cursor: pointer;
			}
		
		.bgimg{
				width:100%;
				height:100%;
				height:100vh;
				}
		#button{
				position:absolute;
				width:36%;
				right:32%;
				top:55%;
				z-index:26;
				cursor: pointer;
					}
		#img2{
			position: absolute;
			width:70%;
			left:21%;
			transform: translate(0%,-50%);
			top:45%;
			z-index: 1;
			
		}
		#zhufu{
			position:absolute;
			width:40%;
			height:17%;
			left:50.7%;
			transform: translate(-50%, 0);
			top:30%;
			z-index:2;
			border: 2px solid red;
			resize: none; 
			color:red;
		}
		#zhufu-count{
			    position: absolute;
				width: 10%;
				height:10%;
				right: 29%;
				top: 45%;
				z-index: 4;
				font-size: 18px;
				color: red;
			}
       #zhufu.readonly {
       			background-color: #f9f9f9; /* 只读时改变背景色 */
       			font-family: 'SimSun', '宋体', serif; /* 设置字体为宋体 */
				font-size: 20px;
				font-weight: 500;
       			text-align: center; /* 文本居中 */
       			position:absolute;
       			width:35%;
       			height:auto;
       			right:30%;
       			top:40%;
       			z-index:5;
       			border: 2px solid red;
				resize: none; 
       		}
        #prompt {
        	position: absolute;
        	width: 35%;
        	left:10%;
        	top: 50%;
        	transform: translateY(-50%);
        	z-index: 100;
        	background-color: #fff;
        	border: 1px solid #ccc;
        	padding: 10px;
        	box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        	display: none; /* 默认隐藏 */
        }
		::-webkit-input-placeholder { /* WebKit, Blink, Edge */
		  font-size: 26px;
		}
		:-moz-placeholder { /* Mozilla Firefox 4 to 18 */
		  font-size: 26px;
		}
		::-moz-placeholder { /* Mozilla Firefox 19+ */
		  font-size: 26px;
		}
		:-ms-input-placeholder { /* Internet Explorer 10-11 */
		  font-size: 26px;
		}
       	
		/* 针对移动端设备的调整 */
		@media (max-width: 768px) {
			.container {
				min-width: 100%; /* 在移动端占满整个屏幕宽度 */
				background-size: cover; /* 使背景图片覆盖整个页面（在移动端） */
			}
			.back, .button, .img2,.zhufu,.zhufu-count,.prompt{
				/* 根据需要调整移动端上的定位和尺寸 */
				width: auto; /* 或者使用百分比，但可能需要更复杂的布局策略 */
				bottom: initial; /* 重置底部位置 */
				left: initial; /* 重置左侧位置 */
				/* 可能需要添加新的定位规则，如使用flex或grid布局 */
			}
		}
		
	</style>
</head>
<body>
	
	<div class="container">	
	    <div id="bg">
		    <img class="bgimg" src="bg2.png"/>
		    <a href="qifu1.html"><img id="back" src="back2.png" alt="返回键"/></a>
		    <img id="img2" src="img2.png" alt="祈福牌"/>
			<img id= "button" src="sbt.png" alt="提交按钮"/>
			<textarea id="zhufu" placeholder="（输入祝福）" maxlength="20" style="font-size: 26px;"></textarea>
			<div id="zhufu-count">0/20</div>
			<div id="prompt">请填写祝福语</div>
		</div>
	</div>
<script>
      
		 const zhufuTextarea = document.getElementById('zhufu');
		 		const zhufuCount = document.getElementById('zhufu-count');
		  
		 		
		 		zhufuTextarea.addEventListener('input', function() {
		 			
		 			const currentLength = zhufuTextarea.value.length;
		 			zhufuCount.textContent = `${currentLength}/20`;
		 		});
		  
		 		
		 		zhufuCount.textContent = `${zhufuTextarea.value.length}/20`;
 
        
        
		document.getElementById('button').addEventListener('click', function() {
					const textarea = document.getElementById('zhufu');
					const prompt = document.getElementById('prompt');
		 
					if (textarea.value.trim() === '') {
						
						prompt.style.display = 'block';
						setTimeout(function() {
							prompt.style.display = 'none'; 
						}, 2000);
					} else {
						
						textarea.readOnly = true;
						textarea.classList.add('readonly');
						var obj4 = document.getElementById("bg");
						var zhufuCountElement = document.getElementById("zhufu-count");
		                obj4.removeChild(zhufuCountElement);
						// 2秒后显示图片
						setTimeout(function() {
							var obj = document.getElementById("bg");
							var img = document.createElement('img');
							img.src = 'img.png';
							img.style.position = 'absolute';
							img.style.right = '0';
							img.style.top="50%";
							img.style.width="100%";
							img.style.transform="translate(0%, -50%)";
							img.style.zIndex="100";
							obj.appendChild(img); 
							
							var a = document.createElement('a');
							        a.href = 'qifu1.html'; 
							        a.style.position = 'absolute';
							        a.style.right = '82.9%';
							        a.style.top = '2.5%';
									a.style.height="7.9999%";
									a.style.width="13.447%";
							        a.style.display = 'block'; // 这可能有助于确保 a 标签正确包裹 img 元素
							        a.style.zIndex = '101'; 
							
							var imgb = document.createElement('img');
							imgb.src = 'back2.png';
							imgb.style.position = 'absolute';
							imgb.style.right = '0';
							
					        imgb.style.width="100%";
							imgb.style.cursor= "pointer";
							
							a.appendChild(imgb);
							obj.appendChild(a); 
						}, 2000);
					}
				});
		 
				
				textarea.addEventListener('input', function() {
					if (this.value.trim() === '') {
						this.readOnly = false;
						this.classList.remove('readonly');
					}
				});
    </script>
</body>
</html>


